<h1>Ticket</h1>

<div class="demo-button-container">
  <h3>現在登入的身分為{{role}}</h3>
  <button mat-raised-button (click)="addData()" *ngIf="role=='QA'" class="demo-button">
    新增錯誤
  </button>
  <button mat-raised-button (click)="addData()" *ngIf="role=='PM'" class="demo-button">
    新增功能請求
  </button>
  <button mat-raised-button (click)="addData()" *ngIf="role=='QA'" class="demo-button">
    新增測試用例
  </button>
</div>
<div>
  
  <table mat-table [dataSource]="tickets" class="mat-elevation-z8 demo-table">


    <!-- Type Column -->
    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef>類型</th>
      <td mat-cell *matCellDef="let element">{{getTypeDesc(element.type)}}</td>
    </ng-container>

    <!-- Status Column -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>狀態</th>
      <td mat-cell *matCellDef="let element">{{getStatusDesc(element.status)}}</td>
    </ng-container>

    <!-- Summary Column -->
    <ng-container matColumnDef="summary">
      <th mat-header-cell *matHeaderCellDef>描述</th>
      <td mat-cell *matCellDef="let element">{{element.summary}}</td>
    </ng-container>

    <!-- Desc Column -->
    <ng-container matColumnDef="desc">
      <th mat-header-cell *matHeaderCellDef>內容</th>
      <td mat-cell *matCellDef="let element">{{element.desc}}</td>
    </ng-container>

    <!--  Column -->
    <ng-container matColumnDef="edit">
      <th mat-header-cell *matHeaderCellDef>編輯</th>
      <td mat-cell *matCellDef="let element">
        <button mat-raised-button (click)="edit(element.id)" class="demo-button">
          編輯
        </button>
      </td>
    </ng-container>
    <!--  Column -->
    <ng-container matColumnDef="solve">
      <th mat-header-cell *matHeaderCellDef>解決</th>
      <td mat-cell *matCellDef="let element">
        <button mat-raised-button (click)="solve(element.id)" class="demo-button">
          解決
        </button>
      </td>
    </ng-container>
    <!--  Column -->
    <ng-container matColumnDef="remove">
      <th mat-header-cell *matHeaderCellDef>刪除</th>
      <td mat-cell *matCellDef="let element">
        <button mat-raised-button (click)="remove(element.id)" class="demo-button">
          刪除
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
